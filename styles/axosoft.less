// The ui-variables file is provided by base themes provided by Atom.
//
// See https://github.com/atom/atom-dark-ui/blob/master/styles/ui-variables.less
// for a full listing of what's available.
@import "ui-variables";

@-webkit-keyframes rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(359deg);
    }
}
@keyframes rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(359deg);
    }
}

@-webkit-keyframes pulsate {
    from {
        opacity: .1;
    }
    50% {
        opacity: .5;
    }
    to {
        opacity: .1
    }
}
@keyframes pulsate {
    from {
        opacity: .1;
    }
    50% {
        opacity: .5;
    }
    to {
        opacity: .1
    }
}

.atom-axosoft {
    overflow-y: auto;
    position: relative;
    height: 100%;
    overflow: hidden;
    .atom-axosoft-filter,
    .settings-view {
        position: relative;
        width: 100%;
        select,
        select.form-control {
            color: @text-color;
            background-color: @button-background-color;
            background-size: @component-line-height;
            display: inline-block;
            width: 70%;
            transition: background-size 250ms ease-in;
            &[disabled] {
                color: fade(@text-color, 50%);
                background-color: @button-background-color;
                background-size: 0;
            }
            option.atom-axosoft-placeholder {
                display: none;
            }
        }

        .control-label {
            display: inline-block;
            width: 30%;
        }
        .controls {
            width: 100%;
            margin-right: @component-line-height;

        }
        a.atom-axosoft-reload {
            position: absolute;
            width: @component-line-height;
            height: @component-line-height;
            background-color: fade(@text-color, 33%);
            top: 0;
            right: 0;
            z-index: 1;
            -webkit-mask: url(atom://atom-axosoft/resources/svg/ic_refresh_black_24px.svg) no-repeat 50% 50%;
            mask: url(atom://atom-axosoft/resources/svg/ic_refresh_black_24px.svg) no-repeat 50% 50%;
            -webkit-mask-size: 80%;
            mask-size: 80%;
            &:hover {
                background-color: @text-color;
            }
        }
        &.atom-axosoft-reloading {
            a.atom-axosoft-reload {
                -webkit-animation: rotate 4s infinite linear;
                animation: rotate 4s infinite linear;
            }
        }
    }

    .atom-axosoft-message {
        position: relative;
        padding: .5em 1.25em .5em 1.25em;
        z-index: 1;
        background: transparent;
        &::before {
            display: block;
            content: " ";
            width: @component-line-height;
            height: @component-line-height;
            position: absolute;
            right: .5em;
            top: 0.25em;
            z-index: -1;
            line-height: @component-line-height;
            -webkit-mask-size: fill;
            mask-size: fill;
        }
        .message-type(@color; @bgcolor; @icon; @animation: pulsate) {
            background-color: fade(@bgcolor, 20%);
            color: @color;
            &::before {
                background-color: fade(@bgcolor, 50%);
                -webkit-mask: url("atom://atom-axosoft/resources/svg/ic_@{icon}_black_24px.svg") no-repeat right;
                mask: url("atom://atom-axosoft/resources/svg/ic_@{icon}_black_24px.svg") no-repeat right;
                -webkit-animation: @animation 3s infinite linear;
                animation: @animation 3s infinite linear;
                -webkit-mask-size: fill;
                mask-size: fill;
            }
        }
        &.loading {
            .message-type(
                @text-color-info;
                @background-color-info;
                "refresh";
                "rotate"
            );
        }
        &.info {
            .message-type(
                @text-color-info;
                @background-color-info;
                "info"
            );
        }
        &.warning {
            .message-type(
                @text-color-warning;
                @background-color-warning;
                "warning"
            );
        }
        &.error {
            .message-type(
                @text-color-error;
                @background-color-error;
                "warning"
            );
        }
        &:empty {
            display: none;
            &::before {
                display: none;
            }
        }
    }
}

.atom-axosoft-feature-list {
    list-style: none;
    margin: 0;
    // margin: (@component-line-height * 2) 0 0 0;
    padding: 0 0 (@component-line-height * 4) 0;
    // padding: 0;
    max-height: 100%;
    overflow-y: auto;
    z-index: 0;
    > li {
        &:last-child {
            // margin-bottom: 10em;
        }
        // select {
        //     position: relative;
        // }
        // span::before {
        //     display: block;
        //     position: absolute;
        //     top: 1em;
        //     left: 0;
        //     width: 5em;
        //     height: 1em;
        //     background-color: red;
        //     content: " ";
        //     z-index: 99999;
        // }
        display: block;
        clear: both;;
        border-left: 0.25em solid transparent;
        border-bottom: 1px solid @app-background-color;
        cursor: default;
        > span,
        > a {
            display: inline-block;
            width: 30%;
            background-color: transparent;
            height: 1.75em;
            line-height: 1.75em;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
            text-align: left;
            padding: 0 0.5em 0 0.5em;

        }
        .atom-axosoft-feature-id {
            width: 15%;
            text-align: right;
            font-size: 90%;
        }
        .atom-axosoft-feature-name {
            width: 55%;
            text-align: left;
        }
        .atom-axosoft-feature-status {
            width: 25%;
            text-align: left;
            font-size: 90%;
            position: relative;
            // border: 1px solid transparent;
            // color: fade(@text-color, 66%);
            color: @text-color;
            padding-right: @component-line-height;

            &:hover {
                color: @text-color;
                background-color: fade(@base-background-color, 66%);
                &::after {
                    //  @TODO: Genericize pseudo-elements.
                    position: absolute;
                    display: block;
                    content: " ";
                    width: @component-line-height;
                    height: 100%;
                    line-height: inherit;
                    top: 0;
                    right: 0;
                    background-color: @text-color;
                    -webkit-mask: url(atom://atom-axosoft/resources/svg/ic_keyboard_arrow_down_black_24px.svg) no-repeat 50% 50%;
                    mask: url(atom://atom-axosoft/resources/svg/ic_keyboard_arrow_down_black_24px.svg) no-repeat 50% 50%;
                    -webkit-mask-size: 70%;
                    mask-size: 70%;
                    // transition: all 150ms ease-in;
                }
            }
        }
        .atom-axosoft-feature-priority {
            width: 5%;
            text-align: right;
            text-shadow: 0 0.0612em 0.125em fade(@app-background-color, 50%);
        }
        .atom-axosoft-feature-description {
            width: 100%;
            max-height: 0;
            color: @text-color;
            overflow: auto;
            text-align: left;
            background-color: @base-background-color;
            transition: max-height 150ms ease-in;
            &.atom-axosoft-empty {
                color: fade(@text-color, 50%);
                text-align: center;
            }
            > div {
                margin: (@component-line-height / 2);
            }
            h1 {
                font-size: @font-size * 1.5;
            }
            h2 {
                font-size: @font-size * 1.33;
            }
            h3 {
                font-size: @font-size * 1.2;
            }
            h4, h5, h6 {
                font-size: @font-size;
            }
            ul, ol {
                padding: 0 0 0 1.5em;
                margin: 0 0 (@component-line-height / 2) 0
            }
        }
        &.atom-axosoft-open {
            .atom-axosoft-feature-description {
                max-height: 20em;
                // visibility: visible;
            }
        }
        .priority-type(@bgcolor; @icon) {
            background-color: fade(@bgcolor, 7%);
            &:hover {
                background-color: fade(@bgcolor, 25%);
            }
            border-left-color: fade(@bgcolor, 50%);
            .atom-axosoft-feature-priority {
                background-color: @bgcolor;
                -webkit-mask: url("atom://atom-axosoft/resources/svg/ic_@{icon}_black_24px.svg") no-repeat 50% 50%;
                mask: url("atom://atom-axosoft/resources/svg/ic_@{icon}_black_24px.svg") no-repeat 50% 50%;
                line-height: @component-line-height;
                width: 1em;
                -webkit-mask-size: contain;
                mask-size: contain;
            }
        }
        &.atom-axosoft-feature-priority-high {
            .priority-type(
                @background-color-error;
                "keyboard_arrow_up"
            );
        }
        &.atom-axosoft-feature-priority-medium {
            .priority-type(
                @background-color-warning;
                "keyboard_arrow_up"
            );
        }
        &.atom-axosoft-feature-priority-low {
            .priority-type(
                @background-color-success;
                "keyboard_arrow_down"
            );
        }

    }
}
